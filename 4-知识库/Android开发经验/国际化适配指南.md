# Android 国际化 (i18n) 适配指南

## 1. 核心原则：拒绝硬编码 (No Hardcoding)

在 Android 开发中，**严禁**直接在代码（Kotlin/Java）或布局文件（XML）中硬编码显示给用户的字符串。

### ❌ 错误做法
```kotlin
Text(text = "Prompt Manager") // 硬编码字符串，无法翻译
```

### ✅ 正确做法
```kotlin
Text(text = stringResource(R.string.app_name)) // 引用资源 ID
```

## 2. 实现步骤

### 步骤 1：提取字符串
将所有 UI 显示的文本提取出来，赋予唯一的资源 ID（如 `login_button`, `error_network`）。

### 步骤 2：定义默认资源 (English)
在 `res/values/strings.xml` 中定义默认语言（通常是英语）：
```xml
<resources>
    <string name="app_name">Prompt Manager</string>
    <string name="login">Login</string>
</resources>
```

### 步骤 3：定义多语言资源 (Chinese)
在 `res/values-zh/strings.xml` 中定义中文翻译。文件夹后缀 `-zh` 对应中文环境。
```xml
<resources>
    <string name="app_name">Prompt Manager</string>
    <string name="login">登录</string>
</resources>
```

### 步骤 4：在 Jetpack Compose 中使用
使用 `stringResource` 函数加载字符串：
```kotlin
import androidx.compose.ui.res.stringResource
import com.your.package.R

@Composable
fun LoginScreen() {
    Button(...) {
        Text(text = stringResource(R.string.login))
    }
}
```

## 3. 最佳实践建议
1.  **尽早提取**：在编写 UI 代码的同时就将字符串放入 `strings.xml`，不要等到项目后期再批量替换。
2.  **命名规范**：使用 `screen_component_description` 的格式命名 ID，例如 `login_btn_google` 或 `home_title_search`，便于管理。
3.  **参数化字符串**：对于动态内容（如 "Hello, Alice"），使用占位符：
    *   XML: `<string name="welcome">Hello, %1$s</string>`
    *   Compose: `stringResource(R.string.welcome, userName)`

---
**记录时间**：2025-11-29
